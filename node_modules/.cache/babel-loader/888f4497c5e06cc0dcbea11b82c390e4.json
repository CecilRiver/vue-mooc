{"remainingRequest":"C:\\GitTest\\vue-mooc\\node_modules\\babel-loader\\lib\\index.js!C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\GitTest\\vue-mooc\\src\\pages\\user\\information.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\GitTest\\vue-mooc\\src\\pages\\user\\information.vue","mtime":1699586716660},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\babel-loader\\lib\\index.js","mtime":1698895100317},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js","mtime":1698895084158},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\babel-loader\\lib\\index.js","mtime":1698895100317},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js","mtime":1698895084158}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { updateUserInfo } from 'api/user.js';\nimport { ERR_OK } from 'api/config.js';\nexport default {\n  props: {\n    userinfo: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      isLoading: false,\n      dialogVisible: false,\n      information: [],\n      editForm: {\n        nickname: '',\n        email: '',\n        city: '',\n        sex: '',\n        signature: ''\n      }\n    };\n  },\n  created: function created() {\n    this.information = [{\n      id: 1,\n      type: '用户名',\n      value: this.userinfo[0].username\n    }, {\n      id: 2,\n      type: '邮箱',\n      value: this.userinfo[0].email\n    }, {\n      id: 3,\n      type: '性别',\n      value: this.userinfo[0].sex\n    }, {\n      id: 4,\n      type: '个性签名',\n      value: this.userinfo[0].intro // { id: 5, type: '城市', value: this.userinfo.city },\n\n    }];\n  },\n  methods: {\n    // 编辑个人信息\n    handleEditClick: function handleEditClick() {\n      var _this = this;\n\n      this.dialogVisible = true;\n      this.editForm = {\n        username: this.userinfo[0].username,\n        email: this.userinfo[0].email,\n        // city: this.userinfo.city,\n        sex: this.userinfo[0].sex,\n        intro: this.userinfo[0].intro\n      };\n      this.$nextTick(function () {\n        _this.$refs.editForm.resetFields();\n      });\n    },\n    // 保存个人信息\n    handleSaveClick: function handleSaveClick() {\n      var _this2 = this;\n\n      this.isLoading = true;\n      updateUserInfo(this.editForm).then(function (res) {\n        _this2.isLoading = false;\n        var code = res.code,\n            msg = res.msg;\n\n        if (code === ERR_OK) {\n          _this2.dialogVisible = false;\n\n          _this2.$message.success(msg);\n\n          _this2.$emit('componentClick', 'userinfo');\n        } else {\n          _this2.$message.error(msg);\n        }\n      }).catch(function () {\n        _this2.isLoading = false;\n\n        _this2.$message.error('接口异常');\n      });\n    }\n  },\n  watch: {\n    userinfo: {\n      handler: function handler() {\n        this.information = [{\n          id: 1,\n          type: '用户名',\n          value: this.userinfo[0].username\n        }, {\n          id: 2,\n          type: '邮箱',\n          value: this.userinfo[0].email\n        }, {\n          id: 3,\n          type: '性别',\n          value: this.userinfo[0].sex\n        }, {\n          id: 4,\n          type: '个性签名',\n          value: this.userinfo[0].intro // { id: 3, type: '城市', value: this.userinfo.city },\n\n        }];\n      },\n      deep: true\n    }\n  }\n};",{"version":3,"sources":["information.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"user-information\">\r\n    <dl>\r\n      <dt class=\"info-title\">\r\n        个人信息\r\n        <mooc-button size=\"mini\" round @click=\"handleEditClick\">\r\n          <i class=\"iconfont\">&#xe600;</i>\r\n          编辑\r\n        </mooc-button>\r\n      </dt>\r\n      <dd v-for=\"(item,index) in information\" :key=\"index\" class=\"info-item\">\r\n        <div class=\"info-type\">\r\n          {{ item.type }}\r\n        </div>\r\n        <div class=\"info-content\">\r\n          <template v-if=\"item.type == '性别'\">\r\n            {{ item.value == '男' ? '男' : '女' }}\r\n          </template>\r\n          <template v-else>\r\n            {{ item.value?item.value:'未设置' }}\r\n          </template>\r\n        </div>\r\n      </dd>\r\n    </dl>\r\n\r\n    <!-- 编辑个人信息弹窗 -->\r\n    <mooc-dialog title=\"编辑个人信息\" :visible.sync=\"dialogVisible\" width=\"600px\">\r\n      <el-form ref=\"editForm\" :model=\"editForm\" label-width=\"80px\" label-position=\"rigth\">\r\n        <!-- <el-form-item label=\"昵称\">\r\n          <el-input v-model=\"editForm.nickname\" placeholder=\"请输入昵称\"></el-input>\r\n        </el-form-item> -->\r\n        <el-form-item label=\"邮箱\">\r\n          <el-input v-model=\"editForm.email\" placeholder=\"请输入邮箱\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\">\r\n          <el-radio-group v-model=\"editForm.sex\">\r\n            <el-radio label=\"male\">男</el-radio>\r\n            <el-radio label=\"female\">女</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"个性签名\">\r\n          <el-input v-model=\"editForm.intro\" type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 4}\" placeholder=\"请输入个性签名\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template slot=\"footer\">\r\n        <mooc-button size=\"small\" @click=\"dialogVisible=false\">关闭</mooc-button>\r\n        <mooc-button size=\"small\" type=\"primary\" :disabled=\"isLoading\" @click=\"handleSaveClick\">保存</mooc-button>\r\n      </template>\r\n    </mooc-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { updateUserInfo } from 'api/user.js'\r\nimport { ERR_OK } from 'api/config.js'\r\nexport default {\r\n  props: {\r\n    userinfo: {\r\n      type: Object\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      dialogVisible: false,\r\n      information: [],\r\n      editForm: {\r\n        nickname: '',\r\n        email: '',\r\n        city: '',\r\n        sex: '',\r\n        signature: ''\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.information = [\r\n      { id: 1, type: '用户名', value: this.userinfo[0].username },\r\n      { id: 2, type: '邮箱', value: this.userinfo[0].email },\r\n      { id: 3, type: '性别', value: this.userinfo[0].sex },\r\n      { id: 4, type: '个性签名', value: this.userinfo[0].intro }\r\n      // { id: 5, type: '城市', value: this.userinfo.city },\r\n    ]\r\n  },\r\n  methods: {\r\n    // 编辑个人信息\r\n    handleEditClick () {\r\n      this.dialogVisible = true\r\n      this.editForm = {\r\n        username: this.userinfo[0].username,\r\n        email: this.userinfo[0].email,\r\n        // city: this.userinfo.city,\r\n        sex: this.userinfo[0].sex,\r\n        intro: this.userinfo[0].intro\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.editForm.resetFields()\r\n      })\r\n    },\r\n    // 保存个人信息\r\n    handleSaveClick () {\r\n      this.isLoading = true\r\n      updateUserInfo(this.editForm).then(res => {\r\n        this.isLoading = false\r\n        const { code, msg } = res\r\n        if (code === ERR_OK) {\r\n          this.dialogVisible = false\r\n          this.$message.success(msg)\r\n          this.$emit('componentClick', 'userinfo')\r\n        } else {\r\n          this.$message.error(msg)\r\n        }\r\n      }).catch(() => {\r\n        this.isLoading = false\r\n        this.$message.error('接口异常')\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    userinfo: {\r\n      handler () {\r\n        this.information = [\r\n          { id: 1, type: '用户名', value: this.userinfo[0].username },\r\n          { id: 2, type: '邮箱', value: this.userinfo[0].email },\r\n          { id: 3, type: '性别', value: this.userinfo[0].sex },\r\n          { id: 4, type: '个性签名', value: this.userinfo[0].intro }\r\n          // { id: 3, type: '城市', value: this.userinfo.city },\r\n\r\n        ]\r\n      },\r\n      deep: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  .user-information\r\n    .info-title\r\n      margin-bottom: 24px;\r\n      height: 48px;\r\n      border-bottom: 1px solid #d0d6d9;\r\n      line-height: 48px;\r\n      font-size: 16px;\r\n      font-weight: 700;\r\n      color: #333;\r\n      .mooc-button\r\n        float: right;\r\n        margin-top: 5px;\r\n        border: none;\r\n        font-size: 15px;\r\n    .info-item\r\n      display: flex;\r\n      align-items: center;\r\n      margin-bottom: 20px;\r\n      .info-type\r\n        flex: 0 0 120px;\r\n        width: 120px;\r\n        padding: 20px 0;\r\n        margin-right: 20px;\r\n        font-size: 14px;\r\n        color: #07111b;\r\n        font-weight: 700;\r\n        background-color: #f3f5f7;\r\n        text-align: center;\r\n      .info-content\r\n        flex: 1;\r\n        padding: 20px 0;\r\n        border-bottom: 1px solid #d9dde1;\r\n        font-size: 14px;\r\n    >>> .mooc-dialog\r\n      .mooc-dialog-body\r\n        padding: 30px 30px 30px 20px;\r\n</style>\r\n"],"sourceRoot":"src/pages/user"}]}