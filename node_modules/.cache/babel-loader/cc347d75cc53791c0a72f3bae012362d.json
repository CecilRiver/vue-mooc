{"remainingRequest":"C:\\GitTest\\vue-mooc\\node_modules\\babel-loader\\lib\\index.js!C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\GitTest\\vue-mooc\\src\\base\\carousel-item\\carousel-item.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\GitTest\\vue-mooc\\src\\base\\carousel-item\\carousel-item.vue","mtime":1698894932446},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\babel-loader\\lib\\index.js","mtime":1698895100317},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js","mtime":1698895084158}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { autoprefixer } from 'utils/dom.js';\nexport default {\n  name: 'MoocCarouselItem',\n  props: {\n    name: String,\n    label: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n  data: function data() {\n    return {\n      showItem: false,\n      active: false,\n      animation: false,\n      translate: 0,\n      scale: 1\n    };\n  },\n  created: function created() {\n    this.$parent && this.$parent.updateItems();\n  },\n  methods: {\n    translateItem: function translateItem(index, activeIndex, oldIndex) {\n      var $parent = this.$parent;\n      var itemsLength = $parent.items.length; // process item animation\n\n      if (oldIndex !== undefined) {\n        this.animation = index === activeIndex || index === oldIndex;\n      } // process item index\n\n\n      if (index !== activeIndex && $parent.loop && itemsLength > 2) {\n        index = this.calcIndex(index, activeIndex, itemsLength);\n      }\n\n      this.active = index === activeIndex;\n      this.translate = this.calcTranslate(index, activeIndex);\n      this.showItem = true;\n    },\n    calcTranslate: function calcTranslate(index, activeIndex) {\n      var distance = this.$parent.$el['offsetWidth'];\n      return distance * (index - activeIndex);\n    },\n    calcIndex: function calcIndex(index, activeIndex, length) {\n      if (activeIndex === 0 && index === length - 1) {\n        return -1;\n      } else if (activeIndex === length - 1 && index === 0) {\n        return length;\n      } else if (index < activeIndex - 1 && activeIndex - index >= length / 2) {\n        return length + 1;\n      } else if (index > activeIndex + 1 && index - activeIndex >= length / 2) {\n        return -2;\n      }\n\n      return index;\n    }\n  },\n  computed: {\n    itemStyle: function itemStyle() {\n      var style = {\n        transform: \"translateX(\".concat(this.translate, \"px) scale(\").concat(this.scale, \")\")\n      };\n      return autoprefixer(style);\n    }\n  },\n  destroyed: function destroyed() {\n    this.$parent && this.$parent.updateItems();\n  }\n};",{"version":3,"sources":["carousel-item.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAeA,SAAA,YAAA,QAAA,cAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,MADA;AAEA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,MAAA,EAAA,MAAA,CADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAFA,GAFA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,MAAA,EAAA,KAFA;AAGA,MAAA,SAAA,EAAA,KAHA;AAIA,MAAA,SAAA,EAAA,CAJA;AAKA,MAAA,KAAA,EAAA;AALA,KAAA;AAOA,GAjBA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,SAAA,OAAA,IAAA,KAAA,OAAA,CAAA,WAAA,EAAA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,KADA,EACA,WADA,EACA,QADA,EACA;AACA,UAAA,OAAA,GAAA,KAAA,OAAA;AACA,UAAA,WAAA,GAAA,OAAA,CAAA,KAAA,CAAA,MAAA,CAFA,CAGA;;AACA,UAAA,QAAA,KAAA,SAAA,EAAA;AACA,aAAA,SAAA,GAAA,KAAA,KAAA,WAAA,IAAA,KAAA,KAAA,QAAA;AACA,OANA,CAOA;;;AACA,UAAA,KAAA,KAAA,WAAA,IAAA,OAAA,CAAA,IAAA,IAAA,WAAA,GAAA,CAAA,EAAA;AACA,QAAA,KAAA,GAAA,KAAA,SAAA,CAAA,KAAA,EAAA,WAAA,EAAA,WAAA,CAAA;AACA;;AACA,WAAA,MAAA,GAAA,KAAA,KAAA,WAAA;AACA,WAAA,SAAA,GAAA,KAAA,aAAA,CAAA,KAAA,EAAA,WAAA,CAAA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,KAfA;AAgBA,IAAA,aAhBA,yBAgBA,KAhBA,EAgBA,WAhBA,EAgBA;AACA,UAAA,QAAA,GAAA,KAAA,OAAA,CAAA,GAAA,CAAA,aAAA,CAAA;AACA,aAAA,QAAA,IAAA,KAAA,GAAA,WAAA,CAAA;AACA,KAnBA;AAoBA,IAAA,SApBA,qBAoBA,KApBA,EAoBA,WApBA,EAoBA,MApBA,EAoBA;AACA,UAAA,WAAA,KAAA,CAAA,IAAA,KAAA,KAAA,MAAA,GAAA,CAAA,EAAA;AACA,eAAA,CAAA,CAAA;AACA,OAFA,MAEA,IAAA,WAAA,KAAA,MAAA,GAAA,CAAA,IAAA,KAAA,KAAA,CAAA,EAAA;AACA,eAAA,MAAA;AACA,OAFA,MAEA,IAAA,KAAA,GAAA,WAAA,GAAA,CAAA,IAAA,WAAA,GAAA,KAAA,IAAA,MAAA,GAAA,CAAA,EAAA;AACA,eAAA,MAAA,GAAA,CAAA;AACA,OAFA,MAEA,IAAA,KAAA,GAAA,WAAA,GAAA,CAAA,IAAA,KAAA,GAAA,WAAA,IAAA,MAAA,GAAA,CAAA,EAAA;AACA,eAAA,CAAA,CAAA;AACA;;AACA,aAAA,KAAA;AACA;AA/BA,GArBA;AAsDA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,UAAA,KAAA,GAAA;AACA,QAAA,SAAA,uBAAA,KAAA,SAAA,uBAAA,KAAA,KAAA;AADA,OAAA;AAGA,aAAA,YAAA,CAAA,KAAA,CAAA;AACA;AANA,GAtDA;AA8DA,EAAA,SA9DA,uBA8DA;AACA,SAAA,OAAA,IAAA,KAAA,OAAA,CAAA,WAAA,EAAA;AACA;AAhEA,CAAA","sourcesContent":["<template>\r\n  <div\r\n    v-show=\"showItem\"\r\n    class=\"mooc-carousel-item\"\r\n    :class=\"[\r\n      'mooc-carousel-item',\r\n      active && 'is-active',\r\n      animation && 'is-animation'\r\n    ]\"\r\n    :style=\"itemStyle\"\r\n  >\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { autoprefixer } from 'utils/dom.js'\r\nexport default {\r\n  name: 'MoocCarouselItem',\r\n  props: {\r\n    name: String,\r\n    label: {\r\n      type: [String, Number],\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      showItem: false,\r\n      active: false,\r\n      animation: false, \r\n      translate: 0,\r\n      scale: 1\r\n    }\r\n  },\r\n  created () {\r\n    this.$parent && this.$parent.updateItems()\r\n  },\r\n  methods: {\r\n    translateItem (index, activeIndex, oldIndex) {\r\n      let $parent = this.$parent\r\n      let itemsLength = $parent.items.length\r\n      // process item animation\r\n      if (oldIndex !== undefined) {\r\n        this.animation = index === activeIndex || index === oldIndex\r\n      }\r\n      // process item index\r\n      if (index !== activeIndex && $parent.loop && itemsLength > 2) {\r\n        index = this.calcIndex(index, activeIndex, itemsLength)\r\n      }\r\n      this.active = index === activeIndex\r\n      this.translate = this.calcTranslate(index, activeIndex)\r\n      this.showItem = true\r\n    },\r\n    calcTranslate (index, activeIndex) {\r\n      const distance = this.$parent.$el['offsetWidth']\r\n      return distance * (index - activeIndex)\r\n    },\r\n    calcIndex (index, activeIndex, length) {\r\n      if (activeIndex === 0 && index === length - 1) {\r\n        return -1;\r\n      } else if (activeIndex === length - 1 && index === 0) {\r\n        return length;\r\n      } else if (index < activeIndex - 1 && activeIndex - index >= length / 2) {\r\n        return length + 1;\r\n      } else if (index > activeIndex + 1 && index - activeIndex >= length / 2) {\r\n        return -2;\r\n      }\r\n      return index;\r\n    }\r\n  },\r\n  computed: {\r\n    itemStyle () {\r\n      const style = {\r\n        transform: `translateX(${ this.translate }px) scale(${ this.scale })`\r\n      }\r\n      return autoprefixer(style)\r\n    }\r\n  },\r\n  destroyed () {\r\n    this.$parent && this.$parent.updateItems()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  @import '~assets/theme/src/carousel-variables.styl';\r\n  .mooc-carousel-item\r\n    display: inline-block;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    z-index: $carousel-item-normal-zIndex - 1;\r\n    &.is-active\r\n      z-index: $carousel-item-normal-zIndex + 1;\r\n    &.is-animation\r\n      transition: transform $carousel-item-animation-duration ease-in-out;\r\n</style>"],"sourceRoot":"src/base/carousel-item"}]}