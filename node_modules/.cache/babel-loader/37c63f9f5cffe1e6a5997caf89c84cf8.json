{"remainingRequest":"C:\\GitTest\\vue-mooc\\node_modules\\babel-loader\\lib\\index.js!C:\\GitTest\\vue-mooc\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\GitTest\\vue-mooc\\src\\store\\modules\\login.js","dependencies":[{"path":"C:\\GitTest\\vue-mooc\\src\\store\\modules\\login.js","mtime":1699512776029},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\babel-loader\\lib\\index.js","mtime":1698895100317},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\eslint-loader\\index.js","mtime":1698895096052}],"contextDependencies":[],"result":["import \"core-js/modules/es6.promise\";\nimport _defineProperty from \"C:\\\\GitTest\\\\vue-mooc\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nvar _mutations;\n\nimport axios from 'utils/axios.js';\nimport { ERR_OK } from 'api/config.js';\nimport * as types from \"../mutation-types.js\";\nimport { getUserInfo, setUserInfo, removeUserInfo } from 'utils/cache.js';\nvar state = {\n  showLogin: false,\n  action: '',\n  userinfo: getUserInfo()\n};\nvar mutations = (_mutations = {}, _defineProperty(_mutations, types.SET_SHOW_LOGIN, function (state, showLogin) {\n  state.showLogin = showLogin;\n}), _defineProperty(_mutations, types.SET_LOGIN_ACTION, function (state, action) {\n  state.action = action;\n}), _defineProperty(_mutations, types.SET_USER_INFO, function (state, userinfo) {\n  state.userinfo = userinfo;\n\n  if (userinfo) {\n    setUserInfo(userinfo);\n  } else {\n    removeUserInfo(userinfo);\n  }\n}), _mutations);\nvar actions = {\n  logout: function logout(_ref) {\n    var commit = _ref.commit;\n    return new Promise(function (resolve, reject) {\n      // 设置axios的baseURL\n      axios.defaults.baseURL = 'http://127.0.0.1:10000/';\n      axios.defaults.withCredentials = false; // Cookie跨域\n\n      axios.get('/user/users/logout').then(function (res) {\n        //const { code } = res\n        if (res.code === ERR_OK) {\n          commit(types.SET_USER_INFO, '');\n          resolve();\n        } else {\n          reject();\n        }\n      }).catch(function () {\n        reject();\n      });\n    });\n  }\n};\nexport default {\n  namespaced: true,\n  state: state,\n  mutations: mutations,\n  actions: actions\n};",{"version":3,"sources":["C:\\GitTest\\vue-mooc\\src\\store\\modules\\login.js"],"names":["axios","ERR_OK","types","getUserInfo","setUserInfo","removeUserInfo","state","showLogin","action","userinfo","mutations","SET_SHOW_LOGIN","SET_LOGIN_ACTION","SET_USER_INFO","actions","logout","commit","Promise","resolve","reject","defaults","baseURL","withCredentials","get","then","res","code","catch","namespaced"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,gBAAlB;AACA,SAASC,MAAT,QAAuB,eAAvB;AACA,OAAO,KAAKC,KAAZ;AACA,SAASC,WAAT,EAAsBC,WAAtB,EAAmCC,cAAnC,QAAyD,gBAAzD;AACA,IAAMC,KAAK,GAAG;AACZC,EAAAA,SAAS,EAAE,KADC;AAEZC,EAAAA,MAAM,EAAE,EAFI;AAGZC,EAAAA,QAAQ,EAAEN,WAAW;AAHT,CAAd;AAKA,IAAMO,SAAS,iDACZR,KAAK,CAACS,cADM,YACWL,KADX,EACkBC,SADlB,EAC6B;AACxCD,EAAAA,KAAK,CAACC,SAAN,GAAkBA,SAAlB;AACD,CAHY,+BAIZL,KAAK,CAACU,gBAJM,YAIaN,KAJb,EAIoBE,MAJpB,EAI4B;AACvCF,EAAAA,KAAK,CAACE,MAAN,GAAeA,MAAf;AACD,CANY,+BAOZN,KAAK,CAACW,aAPM,YAOUP,KAPV,EAOiBG,QAPjB,EAO2B;AACtCH,EAAAA,KAAK,CAACG,QAAN,GAAiBA,QAAjB;;AACA,MAAIA,QAAJ,EAAc;AACZL,IAAAA,WAAW,CAACK,QAAD,CAAX;AACD,GAFD,MAEO;AACLJ,IAAAA,cAAc,CAACI,QAAD,CAAd;AACD;AACF,CAdY,cAAf;AAiBA,IAAMK,OAAO,GAAG;AAEdC,EAAAA,MAFc,wBAEK;AAAA,QAAVC,MAAU,QAAVA,MAAU;AACjB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAE5C;AACAnB,MAAAA,KAAK,CAACoB,QAAN,CAAeC,OAAf,GAAyB,yBAAzB;AACArB,MAAAA,KAAK,CAACoB,QAAN,CAAeE,eAAf,GAAiC,KAAjC,CAJ4C,CAIL;;AACjCtB,MAAAA,KAAK,CAACuB,GAAN,CAAU,oBAAV,EAAgCC,IAAhC,CAAqC,UAAAC,GAAG,EAAI;AAC1C;AACA,YAAIA,GAAG,CAACC,IAAJ,KAAazB,MAAjB,EAAyB;AACvBe,UAAAA,MAAM,CAACd,KAAK,CAACW,aAAP,EAAsB,EAAtB,CAAN;AACAK,UAAAA,OAAO;AACR,SAHD,MAGO;AACLC,UAAAA,MAAM;AACP;AACF,OARD,EAQGQ,KARH,CAQS,YAAM;AACbR,QAAAA,MAAM;AACP,OAVD;AAWD,KAhBM,CAAP;AAiBD;AApBa,CAAhB;AAuBA,eAAe;AACbS,EAAAA,UAAU,EAAE,IADC;AAEbtB,EAAAA,KAAK,EAALA,KAFa;AAGbI,EAAAA,SAAS,EAATA,SAHa;AAIbI,EAAAA,OAAO,EAAPA;AAJa,CAAf","sourcesContent":["import axios from 'utils/axios.js'\r\nimport { ERR_OK } from 'api/config.js'\r\nimport * as types from '../mutation-types.js'\r\nimport { getUserInfo, setUserInfo, removeUserInfo } from 'utils/cache.js'\r\nconst state = {\r\n  showLogin: false,\r\n  action: '',\r\n  userinfo: getUserInfo()\r\n}\r\nconst mutations = {\r\n  [types.SET_SHOW_LOGIN] (state, showLogin) {\r\n    state.showLogin = showLogin\r\n  },\r\n  [types.SET_LOGIN_ACTION] (state, action) {\r\n    state.action = action\r\n  },\r\n  [types.SET_USER_INFO] (state, userinfo) {\r\n    state.userinfo = userinfo\r\n    if (userinfo) {\r\n      setUserInfo(userinfo)\r\n    } else {\r\n      removeUserInfo(userinfo)\r\n    }\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  \r\n  logout ({commit }) {\r\n    return new Promise((resolve, reject) => {\r\n      \r\n// 设置axios的baseURL\r\naxios.defaults.baseURL = 'http://127.0.0.1:10000/';\r\naxios.defaults.withCredentials = false;// Cookie跨域\r\n      axios.get('/user/users/logout').then(res => {\r\n        //const { code } = res\r\n        if (res.code === ERR_OK) {\r\n          commit(types.SET_USER_INFO, '')\r\n          resolve()\r\n        } else {\r\n          reject()\r\n        }\r\n      }).catch(() => {\r\n        reject()\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions\r\n}"]}]}