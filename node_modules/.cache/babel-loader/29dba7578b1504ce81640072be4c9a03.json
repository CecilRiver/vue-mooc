{"remainingRequest":"C:\\GitTest\\vue-mooc\\node_modules\\babel-loader\\lib\\index.js!C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\GitTest\\vue-mooc\\src\\base\\back-top\\back-top.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\GitTest\\vue-mooc\\src\\base\\back-top\\back-top.vue","mtime":1698894932444},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\babel-loader\\lib\\index.js","mtime":1698895100317},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js","mtime":1698895084158}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { throttle } from 'utils/utils.js';\nvar throttleTime = 300;\nexport default {\n  name: 'MoocBacktop',\n  props: {\n    showHeight: {\n      type: Number,\n      default: 200\n    },\n    target: {\n      type: String,\n      default: ''\n    },\n    right: {\n      type: Number,\n      default: 40\n    },\n    bottom: {\n      type: Number,\n      default: 40\n    },\n    step: {\n      type: Number,\n      default: 10\n    },\n    interval: {\n      type: Number,\n      default: 20\n    }\n  },\n  data: function data() {\n    return {\n      el: null,\n      container: null,\n      visible: false\n    };\n  },\n  mounted: function mounted() {\n    this.setScrollContainer();\n    this.throttleScrollHandler = throttle(this.onScroll, throttleTime);\n    document.addEventListener('scroll', this.throttleScrollHandler);\n  },\n  methods: {\n    handleBackTopClick: function handleBackTopClick(event) {\n      if (!this.timer) {\n        this.scrollToTop();\n      }\n\n      this.$emit('click', event);\n    },\n    setScrollContainer: function setScrollContainer() {\n      this.container = document;\n      this.el = document.documentElement;\n\n      if (this.target) {\n        this.el = document.querySelector(this.target);\n\n        if (!this.el) {\n          throw new Error(\"target is not existed: \".concat(this.target));\n        }\n\n        this.container = this.el;\n      }\n    },\n    onScroll: function onScroll() {\n      this.visible = this.el.scrollTop > this.showHeight;\n    },\n    scrollToTop: function scrollToTop() {\n      var _this = this;\n\n      var step = 0;\n      this.timer = setInterval(function () {\n        if (_this.el.scrollTop <= 0) {\n          clearInterval(_this.timer);\n          _this.timer = null;\n          return;\n        }\n\n        step += _this.step;\n        _this.el.scrollTop -= step;\n      }, this.interval);\n    }\n  },\n  computed: {\n    getStyle: function getStyle() {\n      return {\n        right: \"\".concat(this.right, \"px\"),\n        bottom: \"\".concat(this.bottom, \"px\")\n      };\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    document.removeEventListener('scroll', this.throttleScrollHandler);\n    clearInterval(this.timer);\n    this.timer = null;\n  }\n};",{"version":3,"sources":["back-top.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <transition name=\"mooc-fade-in\" :duration=\"500\">\r\n    <div\r\n      v-if=\"visible\"\r\n      class=\"mooc-backtop\"\r\n      :class=\"$slots.default ? 'is-custom' : 'is-default'\"\r\n      :style=\"getStyle\"\r\n      @click.stop=\"handleBackTopClick\"\r\n    >\r\n      <slot>\r\n        <i class=\"iconfont iconshang\"></i>\r\n      </slot>\r\n    </div>\r\n  </transition>\r\n</template>\r\n<script>\r\nimport { throttle } from 'utils/utils.js'\r\nconst throttleTime = 300\r\nexport default {\r\n  name: 'MoocBacktop',\r\n  props: {\r\n    showHeight: {\r\n      type: Number,\r\n      default: 200\r\n    },\r\n    target: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    right: {\r\n      type: Number,\r\n      default: 40\r\n    },\r\n    bottom: {\r\n      type: Number,\r\n      default: 40\r\n    },\r\n    step: {\r\n      type: Number,\r\n      default: 10\r\n    },\r\n    interval: {\r\n      type: Number,\r\n      default: 20\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      el: null,\r\n      container: null,\r\n      visible: false\r\n    }\r\n  },\r\n  mounted () {\r\n    this.setScrollContainer()\r\n    this.throttleScrollHandler = throttle(this.onScroll, throttleTime)\r\n    document.addEventListener('scroll', this.throttleScrollHandler)\r\n  },\r\n  methods: {\r\n    handleBackTopClick (event) {\r\n      if (!this.timer) {\r\n        this.scrollToTop()\r\n      }\r\n      this.$emit('click', event)\r\n    },\r\n    setScrollContainer () {\r\n      this.container = document\r\n      this.el = document.documentElement\r\n      if (this.target) {\r\n        this.el = document.querySelector(this.target)\r\n        if (!this.el) {\r\n          throw new Error(`target is not existed: ${this.target}`)\r\n        }\r\n        this.container = this.el\r\n      }\r\n    },\r\n    onScroll () {\r\n      this.visible = this.el.scrollTop > this.showHeight\r\n    },\r\n    scrollToTop () {\r\n      let step = 0\r\n      this.timer = setInterval(() => {\r\n        if (this.el.scrollTop <= 0) {\r\n          clearInterval(this.timer)\r\n          this.timer = null\r\n          return\r\n        }\r\n        step += this.step\r\n        this.el.scrollTop -= step\r\n      }, this.interval)\r\n    }\r\n  },\r\n  computed: {\r\n    getStyle () {\r\n      return {\r\n        right: `${this.right}px`,\r\n        bottom: `${this.bottom}px`\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    document.removeEventListener('scroll', this.throttleScrollHandler)\r\n    clearInterval(this.timer)\r\n    this.timer = null\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  @import '~assets/theme/variables.styl';\r\n  @import '~assets/theme/src/backtop-variables.styl';\r\n  .mooc-backtop\r\n    z-index: $backtop-zIndex;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: fixed;\r\n    width: $backtop-size;\r\n    height: $backtop-size;\r\n    background-color: #fff;\r\n    border-radius: 50%;\r\n    box-shadow: 0 0 6px rgba(0,0,0, 0.12);\r\n    color: $base-primary;\r\n    cursor: pointer;\r\n    &.mooc-fade-in-enter-active, &.mooc-fade-in-leave-active\r\n      transition: opacity 0.3s;\r\n    &.mooc-fade-in-enter, &.mooc-fade-in-leave-to\r\n      opacity: 0;\r\n    &:hover\r\n      background-color: $base-border-four-color;\r\n    &.is-default\r\n      .iconfont\r\n        font-size: $backtop-font-size;\r\n        font-weight: 700;\r\n</style>"],"sourceRoot":"src/base/back-top"}]}