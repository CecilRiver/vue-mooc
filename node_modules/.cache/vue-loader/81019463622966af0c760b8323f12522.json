{"remainingRequest":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\GitTest\\vue-mooc\\src\\components\\header\\login.vue?vue&type=style&index=0&id=2ae5fdf7&lang=stylus&scoped=true&","dependencies":[{"path":"C:\\GitTest\\vue-mooc\\src\\components\\header\\login.vue","mtime":1699882095071},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\css-loader\\index.js","mtime":1698895097390},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1698895084165},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\postcss-loader\\src\\index.js","mtime":1698895087734},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\stylus-loader\\index.js","mtime":1698895086074},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js","mtime":1698895084158}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '~assets/stylus/variables.styl'\n.login-area\n  float: right;\n  position: relative;\n  .item\n    float: left;\n    line-height: 72px;\n    font-size: 14px;\n    color: #71777d;\n    &:hover\n      .login-text\n        color: $red\n    &.invite > a\n      display: block;\n      width: 100px;\n      text-align: center;\n      & > img\n        margin-right: 8px\n        dispaly: inline-block;\n        vertical-align: middle;\n      & > span\n        dispaly: inline-block;\n        vertical-align: middle;\n    &.download\n      position: relative;\n      line-height: 74px;\n      & > a\n        display: block;\n        padding: 0 12px;\n        width: 60px;\n    &.cart\n      position: relative;\n      margin: 18px 0;\n      padding: 0 18px;\n      border: 1px solid #d9dde1;\n      border-radius: 18px;\n      line-height: 36px;\n      cursor: pointer;\n      &:hover\n        background-color: #f8fafc;\n      .iconfont\n        margin-right: 5px;\n        font-weight: 700;\n      .mini-chart-container\n        z-index: 999;\n        position: absolute;\n        right: 0;\n        top: 53px;\n    &.sign\n      margin-left: 10px;\n      .sign-btn\n        display: inline-block;\n        padding: 0 18px;\n        cursor: pointer;\n        &:hover\n          color: $red;\n    &.bell\n      padding: 2px 20px 0;\n      height: 100%;\n      box-sizing: border-box;\n      cursor: pointer;\n      .mooc-badge\n        line-height: 1;\n        .iconfont\n          font-size: 22px;\n      &:hover\n        .iconfont\n          color: #F01414\n    &.userinfo\n      position: relative;\n      padding: 0 20px 0 15px;\n      height: 75px;\n      cursor: pointer;\n      &:hover\n        .img-box\n          box-shadow: 0 0 0 2px #F01414;\n      .img-box\n        margin-top: 22px;\n        width: 32px;\n        height: 32px;\n        background-color: #ccc;\n        border-radius: 50%;\n        &>img\n          display:block;\n          width: 100%;\n          height: 100%;\n          border-radius: 50%;\n      .userinfo-wrapper\n        z-index: 999;\n        position: absolute;\n        right: 0;\n        top: 72px;\n        width: 306px;\n        padding: 24px;\n        background-color: #fff;\n        border-bottom-left-radius: 12px;\n        border-bottom-right-radius: 12px;\n        box-shadow: 0 4px 8px $shadow;\n        box-sizing: border-box;\n        .userinfo-message-wrapper\n          display: flex;\n          align-items: center;\n          & > img\n            display: block;\n            margin-right: 20px;\n            width: 72px;\n            height: 72px;\n            border-radius: 50%;\n          .userinfo-message\n            flex: 1;\n            & > p\n              line-height: 1;\n              &.name\n                font-size: 16px;\n                color: #07111b;\n                line-height: 24px;\n              &.number\n                margin-top: 4px;\n                font-size: 12px;\n                line-height: 12px;\n                .number-item\n                  margin-right: 10px;\n                  & > b\n                    margin-left: 2px;\n                    font-weight: 750;\n                    color: #93999f;\n        .fast-nav\n          display: flex;\n          align-items: center;\n          flex-wrap: wrap;\n          margin: 20px 0 10px;\n          .fast-nav-item\n            flex: 0 0 126px;\n            width: 126px;\n            height: 36px;\n            margin-right: 2px;\n            margin-bottom: 2px;\n            line-height: 36px;\n            color: #4d555d;\n            background-color: #F8FAFC;\n            border-radius: 2px;\n            text-indent: 10px;\n            &:hover\n              background-color: #D9DDE1;\n            .iconfont\n              margin-right: 5px;\n              color: #000;\n              font-weight: 700;\n              font-size: 16px;\n            a\n              color: #000;\n        .course-history\n          position: relative;\n          margin-bottom: 8px;\n          padding-bottom: 16px;\n          border-bottom: 1px solid #edf1f2;\n          color: #787d82;\n          line-height: 1;\n          .iconfont\n            display: inline-block;\n            vertical-align: middle;\n            font-size: 16px;\n            font-weight: 700;\n          span\n            padding-left: 4px;\n            width: 90%;\n            display: inline-block;\n            vertical-align: middle;\n            &.course-name\n              font-weight: 700;\n              line-height: 24px;\n            &.course-chapter\n              width: calc(90% - 20px);\n              margin-top: 8px;\n              padding-left: 20px;\n            &.course-btn\n              position: absolute;\n              right: 0;\n              bottom: 15px;\n              text-align: right;\n              color: #00b43c;\n        .exit-btn\n          line-height: 24px;\n          & > span\n            font-size: 14px;\n            line-height: 24px;\n          &:hover\n            color: #F01414;\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/components/header","sourcesContent":["<template>\r\n  <ul class=\"login-area\">\r\n    <!-- <li class=\"item invite\">\r\n      <router-link to=\"/\">\r\n        <img src=\"https://www.imooc.com/static/img/index/redPacket.png\" width=\"14\" height=\"16\" alt=\"\">\r\n        <span class=\"login-text\"></span>\r\n      </router-link>\r\n    </li> -->\r\n    <li class=\"item download\">\r\n      <a href=\"javascript:;\">\r\n        <span class=\"login-text\"></span>\r\n      </a>\r\n    </li>\r\n    <li class=\"item cart\" @mouseenter=\"showMiniCart = true\" @mouseleave=\"handleCarItemtMouseLeave\">\r\n      <a href=\"javascript:;\">\r\n        <!-- <i class=\"iconfont\">&#xe63b;</i> -->\r\n        <span class=\"login-text\">消息提醒</span>\r\n        <div class=\"mini-chart-container\" @mouseenter=\"handleCartMouseEnter\" @mouseleave=\"showMiniCart = false\">\r\n          <mini-cart v-if=\"showMiniCart\" :list=\"cartList\" @close=\"showMiniCart=false\" />\r\n        </div>\r\n      </a>\r\n    </li>\r\n    <template v-if=\"userInfo[0] && userInfo[0].userId\">\r\n      <li class=\"item bell\">\r\n        <router-link to=\"/notice\">\r\n          <mooc-badge :max=\"99\" :is-dot=\"isDot\">\r\n            <i class=\"iconfont\">&#xe6eb;</i>\r\n          </mooc-badge>\r\n        </router-link>\r\n      </li>\r\n      <li class=\"item userinfo\" @mouseenter=\"showUserInfo = true\" @mouseleave=\"showUserInfo = false\">\r\n        <div class=\"img-box\">\r\n          <img :src=\"userInfo[0].profilePicture\" alt=\"\">\r\n        </div>\r\n        <div v-show=\"showUserInfo\" class=\"userinfo-wrapper\">\r\n          <div class=\"userinfo-message-wrapper\">\r\n            <img :src=\"userInfo[0].profilePicture\" alt=\"\">\r\n            <div class=\"userinfo-message\">\r\n              <p class=\"name ellipsis\">\r\n                {{ userInfo[0].username }}\r\n              </p>\r\n              <p class=\"number\">\r\n                <span class=\"number-item\" style=\"display: block;\">邮箱: <br><b>{{ userInfo[0].email }}</b></span>\r\n                <span class=\"number-item\" style=\"display: block;\">个性签名: <br><b>{{ userInfo[0].intro }}</b></span>\r\n                <span class=\"number-item\" style=\"display: block;\">上次登录时间: <br><b>{{ userInfo[0].lastLogin.slice(0, 19) }}</b></span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div class=\"fast-nav\" @click.stop=\"showUserInfo = false\">\r\n            <router-link v-if=\"this.userInfo[0].roleId ===2\" to=\"/user/course\">\r\n              <div class=\"fast-nav-item\">\r\n                <i class=\"iconfont\">&#xe60e;</i>\r\n                我的课程\r\n              </div>\r\n            </router-link>\r\n\r\n            <router-link v-else-if=\"this.userInfo[0].roleId === 1\" to =\"/teacher/course\">\r\n              <div class=\"fast-nav-item\">\r\n                <i class=\"iconfont\">&#xe60e;</i>\r\n                我的课程\r\n              </div>\r\n            </router-link>\r\n\r\n            <router-link to=\"/order\">\r\n              <div class=\"fast-nav-item\">\r\n                <i class=\"iconfont\">&#xe611;</i>\r\n                任务中心\r\n              </div>\r\n            </router-link>\r\n            <router-link to=\"/integral\">\r\n              <div class=\"fast-nav-item\">\r\n                <i class=\"iconfont\">&#xe61b;</i>\r\n                个人积分\r\n              </div>\r\n            </router-link>\r\n            <router-link to=\"/user\">\r\n              <div class=\"fast-nav-item\">\r\n                <i class=\"iconfont\">&#xe680;</i>\r\n                个人中心\r\n              </div>\r\n            </router-link>\r\n          </div>\r\n          <!-- <div v-if=\"userInfo.lastCourse\" class=\"course-history\">\r\n            <i class=\"iconfont\">&#xe62f;</i>\r\n            <span class=\"course-name ellipsis\">{{ userInfo.lastCourse && userInfo.lastCourse.name }}</span>\r\n            <span class=\"course-chapter ellipsis\">{{ userInfo.lastCourse && userInfo.lastCourse.chapter }}</span>\r\n            <span class=\"course-btn\" @click=\"handleHistoryClick\">继续</span>\r\n          </div> -->\r\n          <p class=\"exit-btn\">\r\n            <span @click=\"handleUserLogout\">安全退出</span>\r\n          </p>\r\n        </div>\r\n      </li>\r\n    </template>\r\n    <li v-else class=\"item sign\">\r\n      <span class=\"sign-btn\" @click=\"handleLoginClick\">登录</span>/\r\n      <span class=\"sign-btn\" @click=\"handleRegisterClick\">注册</span>\r\n    </li>\r\n  </ul>\r\n</template>\r\n<script>\r\nimport { getNotReadNotice } from 'api/notice.js'\r\nimport { ERR_OK } from 'api/config.js'\r\nimport { mapMutations, mapActions, mapGetters } from 'vuex'\r\nexport default {\r\n  data () {\r\n    return {\r\n      isDot: false,\r\n      cartList: [],\r\n      showMiniCart: false,\r\n      showUserInfo: false\r\n    }\r\n  },\r\n  mounted () {\r\n    if (this.userInfo[0].userId) {\r\n      this.isDot = true\r\n      //this.getNotReadNoticeData()\r\n    }\r\n  },\r\n  methods: {\r\n    // 鼠标移出\r\n    handleCarItemtMouseLeave () {\r\n      this.timer = setTimeout(() => {\r\n        this.showMiniCart = false\r\n      }, 150)\r\n    },\r\n    // 鼠标移入\r\n    handleCartMouseEnter () {\r\n      clearTimeout(this.timer)\r\n    },\r\n    // 登录点击\r\n    handleLoginClick () {\r\n      this.setShowLogin(true)\r\n      this.setLoginAction('login')\r\n    },\r\n    // 注册点击\r\n    handleRegisterClick () {\r\n      this.setShowLogin(true)\r\n      this.setLoginAction('register')\r\n    },\r\n    // 安全退出\r\n    handleUserLogout () {\r\n      this.logout().then(() => {\r\n        this.showUserInfo = false\r\n        this.$router.push('/home')\r\n      }).catch(() => {\r\n        this.$message.error('退出登录失败')\r\n      })\r\n    },\r\n    // 课程历史点击\r\n    handleHistoryClick () {\r\n      let random = new Date().getTime()\r\n      this.showUserInfo = false\r\n      this.$router.push(`/lesson/${random}`)\r\n    },\r\n    // 获取未读消息数据\r\n    getNotReadNoticeData () {\r\n      this.isDot = true\r\n      // getNotReadNotice().then(res => {\r\n      //   const { code, data } = res\r\n      //   if (code === ERR_OK && data === true) {\r\n      //     this.isDot = true\r\n      //   } else {\r\n      //     this.isDot = false\r\n      //   }\r\n      // }).catch(() => {\r\n      //   this.isDot = false\r\n      // })\r\n    },\r\n    // vuex\r\n    ...mapMutations('login', {\r\n      'setShowLogin': 'SET_SHOW_LOGIN',\r\n      'setLoginAction': 'SET_LOGIN_ACTION',\r\n      'setUserInfo': 'SET_USER_INFO'\r\n    }),\r\n    ...mapActions('login', {\r\n      'logout': 'logout'\r\n    })\r\n  },\r\n  computed: {\r\n    // vuex\r\n    ...mapGetters(['userInfo'])\r\n  },\r\n  components: {\r\n    MiniCart: () => import('components/cart/cart.vue')\r\n  },\r\n  beforeDestroy () {\r\n    clearTimeout(this.timer)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  @import '~assets/stylus/variables.styl'\r\n  .login-area\r\n    float: right;\r\n    position: relative;\r\n    .item\r\n      float: left;\r\n      line-height: 72px;\r\n      font-size: 14px;\r\n      color: #71777d;\r\n      &:hover\r\n        .login-text\r\n          color: $red\r\n      &.invite > a\r\n        display: block;\r\n        width: 100px;\r\n        text-align: center;\r\n        & > img\r\n          margin-right: 8px\r\n          dispaly: inline-block;\r\n          vertical-align: middle;\r\n        & > span\r\n          dispaly: inline-block;\r\n          vertical-align: middle;\r\n      &.download\r\n        position: relative;\r\n        line-height: 74px;\r\n        & > a\r\n          display: block;\r\n          padding: 0 12px;\r\n          width: 60px;\r\n      &.cart\r\n        position: relative;\r\n        margin: 18px 0;\r\n        padding: 0 18px;\r\n        border: 1px solid #d9dde1;\r\n        border-radius: 18px;\r\n        line-height: 36px;\r\n        cursor: pointer;\r\n        &:hover\r\n          background-color: #f8fafc;\r\n        .iconfont\r\n          margin-right: 5px;\r\n          font-weight: 700;\r\n        .mini-chart-container\r\n          z-index: 999;\r\n          position: absolute;\r\n          right: 0;\r\n          top: 53px;\r\n      &.sign\r\n        margin-left: 10px;\r\n        .sign-btn\r\n          display: inline-block;\r\n          padding: 0 18px;\r\n          cursor: pointer;\r\n          &:hover\r\n            color: $red;\r\n      &.bell\r\n        padding: 2px 20px 0;\r\n        height: 100%;\r\n        box-sizing: border-box;\r\n        cursor: pointer;\r\n        .mooc-badge\r\n          line-height: 1;\r\n          .iconfont\r\n            font-size: 22px;\r\n        &:hover\r\n          .iconfont\r\n            color: #F01414\r\n      &.userinfo\r\n        position: relative;\r\n        padding: 0 20px 0 15px;\r\n        height: 75px;\r\n        cursor: pointer;\r\n        &:hover\r\n          .img-box\r\n            box-shadow: 0 0 0 2px #F01414;\r\n        .img-box\r\n          margin-top: 22px;\r\n          width: 32px;\r\n          height: 32px;\r\n          background-color: #ccc;\r\n          border-radius: 50%;\r\n          &>img\r\n            display:block;\r\n            width: 100%;\r\n            height: 100%;\r\n            border-radius: 50%;\r\n        .userinfo-wrapper\r\n          z-index: 999;\r\n          position: absolute;\r\n          right: 0;\r\n          top: 72px;\r\n          width: 306px;\r\n          padding: 24px;\r\n          background-color: #fff;\r\n          border-bottom-left-radius: 12px;\r\n          border-bottom-right-radius: 12px;\r\n          box-shadow: 0 4px 8px $shadow;\r\n          box-sizing: border-box;\r\n          .userinfo-message-wrapper\r\n            display: flex;\r\n            align-items: center;\r\n            & > img\r\n              display: block;\r\n              margin-right: 20px;\r\n              width: 72px;\r\n              height: 72px;\r\n              border-radius: 50%;\r\n            .userinfo-message\r\n              flex: 1;\r\n              & > p\r\n                line-height: 1;\r\n                &.name\r\n                  font-size: 16px;\r\n                  color: #07111b;\r\n                  line-height: 24px;\r\n                &.number\r\n                  margin-top: 4px;\r\n                  font-size: 12px;\r\n                  line-height: 12px;\r\n                  .number-item\r\n                    margin-right: 10px;\r\n                    & > b\r\n                      margin-left: 2px;\r\n                      font-weight: 750;\r\n                      color: #93999f;\r\n          .fast-nav\r\n            display: flex;\r\n            align-items: center;\r\n            flex-wrap: wrap;\r\n            margin: 20px 0 10px;\r\n            .fast-nav-item\r\n              flex: 0 0 126px;\r\n              width: 126px;\r\n              height: 36px;\r\n              margin-right: 2px;\r\n              margin-bottom: 2px;\r\n              line-height: 36px;\r\n              color: #4d555d;\r\n              background-color: #F8FAFC;\r\n              border-radius: 2px;\r\n              text-indent: 10px;\r\n              &:hover\r\n                background-color: #D9DDE1;\r\n              .iconfont\r\n                margin-right: 5px;\r\n                color: #000;\r\n                font-weight: 700;\r\n                font-size: 16px;\r\n              a\r\n                color: #000;\r\n          .course-history\r\n            position: relative;\r\n            margin-bottom: 8px;\r\n            padding-bottom: 16px;\r\n            border-bottom: 1px solid #edf1f2;\r\n            color: #787d82;\r\n            line-height: 1;\r\n            .iconfont\r\n              display: inline-block;\r\n              vertical-align: middle;\r\n              font-size: 16px;\r\n              font-weight: 700;\r\n            span\r\n              padding-left: 4px;\r\n              width: 90%;\r\n              display: inline-block;\r\n              vertical-align: middle;\r\n              &.course-name\r\n                font-weight: 700;\r\n                line-height: 24px;\r\n              &.course-chapter\r\n                width: calc(90% - 20px);\r\n                margin-top: 8px;\r\n                padding-left: 20px;\r\n              &.course-btn\r\n                position: absolute;\r\n                right: 0;\r\n                bottom: 15px;\r\n                text-align: right;\r\n                color: #00b43c;\r\n          .exit-btn\r\n            line-height: 24px;\r\n            & > span\r\n              font-size: 14px;\r\n              line-height: 24px;\r\n            &:hover\r\n              color: #F01414;\r\n</style>\r\n"]}]}