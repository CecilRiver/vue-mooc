{"remainingRequest":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\GitTest\\vue-mooc\\src\\base\\message\\message.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\GitTest\\vue-mooc\\src\\base\\message\\message.vue","mtime":1698894932449},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\babel-loader\\lib\\index.js","mtime":1698895100317},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js","mtime":1698895084158}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nconst typeMap = {\r\n  success: 'iconfont-success',\r\n  warning: 'iconfont-warning',\r\n  error: 'iconfont-error',\r\n  info: 'iconfont-info'\r\n}\r\nexport default {\r\n  data () {\r\n    return {\r\n      visible: false,\r\n      type: 'info',\r\n      verticalOffset: 20,\r\n      message: '',\r\n      closed: false,\r\n      onClose: null,\r\n      duration: 3000,\r\n      showClose: false,\r\n      customClass: '',\r\n      iconClass: '',\r\n      center: false\r\n    }\r\n  },\r\n  mounted () {\r\n    this.startTimer()\r\n    document.addEventListener('keydown', this.keyDown)\r\n  },\r\n  methods: {\r\n    handleAfterLeave () {\r\n      this.$destroy(true)\r\n      this.$el.parentNode.removeChild(this.$el)\r\n    },\r\n    startTimer () {\r\n      let duration = this.duration > 0 ? this.duration : 0\r\n      this.timer = setTimeout(() => {\r\n        !this.closed && this.close()\r\n      }, duration)\r\n    },\r\n    clearTimer () {\r\n      clearTimeout(this.timer)\r\n    },\r\n    close () {\r\n      this.closed = true\r\n      if (typeof this.onClose === 'function') {\r\n        this.onClose(this)\r\n      }\r\n    },\r\n    keyDown (e) {\r\n      if (e.keyCode === 27) {\r\n        if (!this.closed) {\r\n          this.close()\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    getStyle () {\r\n      return {\r\n        top: `${this.verticalOffset}px`\r\n      }\r\n    },\r\n    typeClass () {\r\n      return this.type ? `iconfont ${typeMap[this.type]}` : ''\r\n    } \r\n  },\r\n  watch: {\r\n    closed (newVal) {\r\n      if (newVal) {\r\n        this.visible = false\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    clearTimeout(this.timer)\r\n    this.timer = null\r\n    document.removeEventListener('keydown', this.keyDown)\r\n  }\r\n}\r\n",{"version":3,"sources":["message.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"message.vue","sourceRoot":"src/base/message","sourcesContent":["<template>\r\n  <transition name=\"message-fade\" :duration=\"500\" @after-leave=\"handleAfterLeave\">\r\n    <div\r\n      v-show=\"visible\"\r\n      class=\"mooc-message\"\r\n      :style=\"getStyle\"\r\n      :class=\"[\r\n        type && !iconClass && `mooc-message-${type}`,\r\n        center && `is-center`,\r\n        customClass \r\n      ]\"\r\n      @mouseenter=\"clearTimer\"\r\n      @mouseleave=\"startTimer\"\r\n    >\r\n      <i v-if=\"iconClass\" class=\"mooc-message-icon\" :class=\"iconClass\"></i>\r\n      <i v-else class=\"mooc-message-icon\" :class=\"typeClass\"></i>\r\n      <slot>\r\n        <p class=\"mooc-message-content\">\r\n          {{ message }}\r\n        </p>\r\n      </slot>\r\n      <i v-if=\"showClose\" class=\"mooc-message-close iconfont\" @click=\"close\">&#xe619;</i>\r\n    </div>\r\n  </transition>\r\n</template>\r\n<script>\r\nconst typeMap = {\r\n  success: 'iconfont-success',\r\n  warning: 'iconfont-warning',\r\n  error: 'iconfont-error',\r\n  info: 'iconfont-info'\r\n}\r\nexport default {\r\n  data () {\r\n    return {\r\n      visible: false,\r\n      type: 'info',\r\n      verticalOffset: 20,\r\n      message: '',\r\n      closed: false,\r\n      onClose: null,\r\n      duration: 3000,\r\n      showClose: false,\r\n      customClass: '',\r\n      iconClass: '',\r\n      center: false\r\n    }\r\n  },\r\n  mounted () {\r\n    this.startTimer()\r\n    document.addEventListener('keydown', this.keyDown)\r\n  },\r\n  methods: {\r\n    handleAfterLeave () {\r\n      this.$destroy(true)\r\n      this.$el.parentNode.removeChild(this.$el)\r\n    },\r\n    startTimer () {\r\n      let duration = this.duration > 0 ? this.duration : 0\r\n      this.timer = setTimeout(() => {\r\n        !this.closed && this.close()\r\n      }, duration)\r\n    },\r\n    clearTimer () {\r\n      clearTimeout(this.timer)\r\n    },\r\n    close () {\r\n      this.closed = true\r\n      if (typeof this.onClose === 'function') {\r\n        this.onClose(this)\r\n      }\r\n    },\r\n    keyDown (e) {\r\n      if (e.keyCode === 27) {\r\n        if (!this.closed) {\r\n          this.close()\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    getStyle () {\r\n      return {\r\n        top: `${this.verticalOffset}px`\r\n      }\r\n    },\r\n    typeClass () {\r\n      return this.type ? `iconfont ${typeMap[this.type]}` : ''\r\n    } \r\n  },\r\n  watch: {\r\n    closed (newVal) {\r\n      if (newVal) {\r\n        this.visible = false\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    clearTimeout(this.timer)\r\n    this.timer = null\r\n    document.removeEventListener('keydown', this.keyDown)\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  @import '~assets/theme/variables.styl';\r\n  @import '~assets/theme/src/message-variables.styl';\r\n  .mooc-message\r\n    position: fixed;\r\n    left: 50%;\r\n    top: $message-top;\r\n    padding: $message-padding;\r\n    display: flex;\r\n    align-items: center;\r\n    transform: translateX(-50%);\r\n    min-width: $message-min-width;\r\n    border: $message-border-width solid $base-border-three-color;\r\n    border-radius: $base-border-radius-base;\r\n    background-color: $message-background-color;\r\n    box-sizing: border-box;\r\n    transition: opacity $message-opacity-transition-duration,\r\n                top $message-top-transition-duration,\r\n                transform $message-transform-transition-duration;\r\n    overflow: hidden;\r\n    &.message-fade-enter, &.message-fade-leave-active\r\n      opacity: 0;\r\n      transform: translate(-50%, -100%);\r\n    .mooc-message-icon\r\n      margin-right: $message-icon-margin-right;\r\n    .mooc-message-content\r\n      font-size: $message-content-font-size;\r\n      line-height: 1;\r\n    .mooc-message-close\r\n      position: absolute;\r\n      top: 50%;\r\n      right: $message-close-icon-right ;\r\n      transform: translateY(-50%);\r\n      color: $base-font-four-color;\r\n      font-size: $message-close-icon-font-size;\r\n      cursor: pointer;\r\n      &:hover\r\n        color: $base-font-three-color;\r\n    &.is-center\r\n      justify-content: center;\r\n    &.mooc-message-info\r\n      background-color: $message-background-color;\r\n      border-color: $base-border-three-color;\r\n      .mooc-message-content, .mooc-message-icon\r\n        color: $base-info;\r\n    &.mooc-message-success\r\n      background-color: $message-success-background-color;\r\n      border-color: $message-success-border-color;\r\n      .mooc-message-content, .mooc-message-icon\r\n        color: $base-success;\r\n    &.mooc-message-warning\r\n      background-color: $message-warning-background-color;\r\n      border-color: $message-warning-border-color;\r\n      .mooc-message-content, .mooc-message-icon\r\n        color: $base-warning;\r\n    &.mooc-message-error\r\n      background-color: $message-error-background-color;\r\n      border-color: $message-error-border-color;\r\n      .mooc-message-content, .mooc-message-icon\r\n        color: $base-danger;\r\n</style>"]}]}