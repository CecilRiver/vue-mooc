{"remainingRequest":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\GitTest\\vue-mooc\\src\\base\\back-top\\back-top.vue?vue&type=style&index=0&id=2de7c8ea&lang=stylus&scoped=true&","dependencies":[{"path":"C:\\GitTest\\vue-mooc\\src\\base\\back-top\\back-top.vue","mtime":1698894932444},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\css-loader\\index.js","mtime":1698895097390},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1698895084165},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\postcss-loader\\src\\index.js","mtime":1698895087734},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\stylus-loader\\index.js","mtime":1698895086074},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js","mtime":1698895084158}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '~assets/theme/variables.styl';\n@import '~assets/theme/src/backtop-variables.styl';\n.mooc-backtop\n  z-index: $backtop-zIndex;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n  width: $backtop-size;\n  height: $backtop-size;\n  background-color: #fff;\n  border-radius: 50%;\n  box-shadow: 0 0 6px rgba(0,0,0, 0.12);\n  color: $base-primary;\n  cursor: pointer;\n  &.mooc-fade-in-enter-active, &.mooc-fade-in-leave-active\n    transition: opacity 0.3s;\n  &.mooc-fade-in-enter, &.mooc-fade-in-leave-to\n    opacity: 0;\n  &:hover\n    background-color: $base-border-four-color;\n  &.is-default\n    .iconfont\n      font-size: $backtop-font-size;\n      font-weight: 700;\n",{"version":3,"sources":["back-top.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"back-top.vue","sourceRoot":"src/base/back-top","sourcesContent":["<template>\r\n  <transition name=\"mooc-fade-in\" :duration=\"500\">\r\n    <div\r\n      v-if=\"visible\"\r\n      class=\"mooc-backtop\"\r\n      :class=\"$slots.default ? 'is-custom' : 'is-default'\"\r\n      :style=\"getStyle\"\r\n      @click.stop=\"handleBackTopClick\"\r\n    >\r\n      <slot>\r\n        <i class=\"iconfont iconshang\"></i>\r\n      </slot>\r\n    </div>\r\n  </transition>\r\n</template>\r\n<script>\r\nimport { throttle } from 'utils/utils.js'\r\nconst throttleTime = 300\r\nexport default {\r\n  name: 'MoocBacktop',\r\n  props: {\r\n    showHeight: {\r\n      type: Number,\r\n      default: 200\r\n    },\r\n    target: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    right: {\r\n      type: Number,\r\n      default: 40\r\n    },\r\n    bottom: {\r\n      type: Number,\r\n      default: 40\r\n    },\r\n    step: {\r\n      type: Number,\r\n      default: 10\r\n    },\r\n    interval: {\r\n      type: Number,\r\n      default: 20\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      el: null,\r\n      container: null,\r\n      visible: false\r\n    }\r\n  },\r\n  mounted () {\r\n    this.setScrollContainer()\r\n    this.throttleScrollHandler = throttle(this.onScroll, throttleTime)\r\n    document.addEventListener('scroll', this.throttleScrollHandler)\r\n  },\r\n  methods: {\r\n    handleBackTopClick (event) {\r\n      if (!this.timer) {\r\n        this.scrollToTop()\r\n      }\r\n      this.$emit('click', event)\r\n    },\r\n    setScrollContainer () {\r\n      this.container = document\r\n      this.el = document.documentElement\r\n      if (this.target) {\r\n        this.el = document.querySelector(this.target)\r\n        if (!this.el) {\r\n          throw new Error(`target is not existed: ${this.target}`)\r\n        }\r\n        this.container = this.el\r\n      }\r\n    },\r\n    onScroll () {\r\n      this.visible = this.el.scrollTop > this.showHeight\r\n    },\r\n    scrollToTop () {\r\n      let step = 0\r\n      this.timer = setInterval(() => {\r\n        if (this.el.scrollTop <= 0) {\r\n          clearInterval(this.timer)\r\n          this.timer = null\r\n          return\r\n        }\r\n        step += this.step\r\n        this.el.scrollTop -= step\r\n      }, this.interval)\r\n    }\r\n  },\r\n  computed: {\r\n    getStyle () {\r\n      return {\r\n        right: `${this.right}px`,\r\n        bottom: `${this.bottom}px`\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    document.removeEventListener('scroll', this.throttleScrollHandler)\r\n    clearInterval(this.timer)\r\n    this.timer = null\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  @import '~assets/theme/variables.styl';\r\n  @import '~assets/theme/src/backtop-variables.styl';\r\n  .mooc-backtop\r\n    z-index: $backtop-zIndex;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: fixed;\r\n    width: $backtop-size;\r\n    height: $backtop-size;\r\n    background-color: #fff;\r\n    border-radius: 50%;\r\n    box-shadow: 0 0 6px rgba(0,0,0, 0.12);\r\n    color: $base-primary;\r\n    cursor: pointer;\r\n    &.mooc-fade-in-enter-active, &.mooc-fade-in-leave-active\r\n      transition: opacity 0.3s;\r\n    &.mooc-fade-in-enter, &.mooc-fade-in-leave-to\r\n      opacity: 0;\r\n    &:hover\r\n      background-color: $base-border-four-color;\r\n    &.is-default\r\n      .iconfont\r\n        font-size: $backtop-font-size;\r\n        font-weight: 700;\r\n</style>"]}]}