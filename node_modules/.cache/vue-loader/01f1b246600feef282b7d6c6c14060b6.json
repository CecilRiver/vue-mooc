{"remainingRequest":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\GitTest\\vue-mooc\\src\\components\\cart\\cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\GitTest\\vue-mooc\\src\\components\\cart\\cart.vue","mtime":1699493520640},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\babel-loader\\lib\\index.js","mtime":1698895100317},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js","mtime":1698895084158}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { getCartList, deleteCart } from 'api/cart.js'\r\nimport { ERR_OK } from 'api/config.js'\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n  data () {\r\n    return {\r\n      cartList: []\r\n    }\r\n  },\r\n  mounted () {\r\n    if (this.userInfo.id) {\r\n      this.getCartListData()\r\n    }\r\n  },\r\n  methods: {\r\n    // emit父组件事件\r\n    handleCloseClick () {\r\n      this.$emit('close')\r\n    },\r\n    // 购物车课程点击\r\n    handleCartItemClick () {\r\n      this.$router.push({ path: '/lesson', query: { id: new Date().getTime() } })\r\n      this.$emit('close')\r\n    },\r\n    // 购物车课程删除点击\r\n    handleDeleteClick (item) {\r\n      const params = {\r\n        id: item.id\r\n      }\r\n      deleteCart(params).then(res => {\r\n        const { code, msg } = res\r\n        if (code === ERR_OK) {\r\n          this.$message.success(msg)\r\n          this.getCartListData()\r\n        } else {\r\n          this.$message.error(msg)\r\n        }\r\n      }).catch(() => {\r\n        this.$message.error('接口异常')\r\n      })\r\n    },\r\n    // 获取购物车数据\r\n    getCartListData () {\r\n      getCartList().then(res => {\r\n        let { code, data, msg } = res\r\n        if (code === ERR_OK) {\r\n          this.cartList = data\r\n        } else {\r\n          this.cartList = []\r\n          this.$message.error(msg)\r\n        }\r\n      }).catch(() => {\r\n        this.cartList = []\r\n        this.$message.error('接口异常')\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['userInfo'])\r\n  }\r\n}\r\n",{"version":3,"sources":["cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cart.vue","sourceRoot":"src/components/cart","sourcesContent":["<template>\r\n  <div class=\"mini-cart\" @click=\"handleCloseClick\">\r\n    <!-- 列表 -->\r\n    <dl>\r\n      <dt class=\"title\">\r\n        消息提醒\r\n        <span class=\"total\">共加入{{ cartList.length || 0 }}门课程</span>\r\n      </dt>\r\n      <el-scrollbar>\r\n        <div v-if=\"cartList.length > 0\" class=\"cart-item-wrapper\">\r\n          <div v-for=\"(item,index) in cartList\" :key=\"index\" class=\"cart-item\" @click=\"handleCartItemClick\">\r\n            <div class=\"img-box\">\r\n              <img :src=\"item.img\" alt=\"\">\r\n            </div>\r\n            <div class=\"cart-content\">\r\n              <p class=\"name\">\r\n                {{ item.title }}\r\n              </p>\r\n              <p class=\"price-box\">\r\n                <span class=\"price\">¥ {{ item.price }}</span>\r\n                <span class=\"delete\" @click.stop=\"handleDeleteClick(item)\">删除</span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-else class=\"empty-box\">\r\n          <!-- <span class=\"iconfont\">&#xe63b;</span> -->\r\n          <h2 class=\"empty-title\">\r\n            暂无消息提醒\r\n          </h2>\r\n          <!-- <p class=\"empty-desc\">\r\n            快去选购你中意的课程\r\n          </p>\r\n          <router-link class=\"empty-link\" tag=\"p\" to=\"/lesson\">实战课程</router-link> -->\r\n        </div>\r\n      </el-scrollbar>\r\n    </dl>\r\n\r\n    <!-- 底部 -->\r\n    <div class=\"cart-bottom\">\r\n      <!-- <router-link class=\"text\" to=\"/order\">我的订单中心</router-link> -->\r\n      <router-link class=\"account-btn\" to=\"/cart\">我的个人中心</router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getCartList, deleteCart } from 'api/cart.js'\r\nimport { ERR_OK } from 'api/config.js'\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n  data () {\r\n    return {\r\n      cartList: []\r\n    }\r\n  },\r\n  mounted () {\r\n    if (this.userInfo.id) {\r\n      this.getCartListData()\r\n    }\r\n  },\r\n  methods: {\r\n    // emit父组件事件\r\n    handleCloseClick () {\r\n      this.$emit('close')\r\n    },\r\n    // 购物车课程点击\r\n    handleCartItemClick () {\r\n      this.$router.push({ path: '/lesson', query: { id: new Date().getTime() } })\r\n      this.$emit('close')\r\n    },\r\n    // 购物车课程删除点击\r\n    handleDeleteClick (item) {\r\n      const params = {\r\n        id: item.id\r\n      }\r\n      deleteCart(params).then(res => {\r\n        const { code, msg } = res\r\n        if (code === ERR_OK) {\r\n          this.$message.success(msg)\r\n          this.getCartListData()\r\n        } else {\r\n          this.$message.error(msg)\r\n        }\r\n      }).catch(() => {\r\n        this.$message.error('接口异常')\r\n      })\r\n    },\r\n    // 获取购物车数据\r\n    getCartListData () {\r\n      getCartList().then(res => {\r\n        let { code, data, msg } = res\r\n        if (code === ERR_OK) {\r\n          this.cartList = data\r\n        } else {\r\n          this.cartList = []\r\n          this.$message.error(msg)\r\n        }\r\n      }).catch(() => {\r\n        this.cartList = []\r\n        this.$message.error('接口异常')\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['userInfo'])\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  .mini-cart\r\n    padding: 0 16px;\r\n    width: 344px;\r\n    border-radius: 0 0 8px 8px;\r\n    background-color: #fff;\r\n    box-shadow: 0 8px 16px 0 rgba(7,17,27,0.2)\r\n    .title\r\n      padding: 12px;\r\n      border-bottom: 1px solid #D3D6D9;\r\n      color: #1C1F21;\r\n      font-weight: 700;\r\n      font-size: 14px;\r\n      .total\r\n        float: right;\r\n        color: #9199A1;\r\n        font-size: 12px;\r\n    >>>.el-scrollbar\r\n      height: 300px;\r\n    .cart-item-wrapper\r\n      border-bottom: 1px solid #D3D6D9;\r\n      .cart-item\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 12px;\r\n        line-height: 1;\r\n        &:hover\r\n          background-color: #f8fafc;\r\n        .img-box\r\n          flex: 0 0 100px;\r\n          margin-right: 10px;\r\n          width: 100px;\r\n          height: 56px;\r\n          & > img\r\n            display: block;\r\n            width: 100%;\r\n            height: 100%;\r\n            background-color: #eee;\r\n        .cart-content\r\n          flex: 1;\r\n          color: #07111b;\r\n          font-size: 12px;\r\n          line-height: 16px;\r\n          .price-box\r\n            margin-top: 8px;\r\n            color: rgba(240,20,20,0.6);\r\n            .delete\r\n              float: right;\r\n              cursor: pointer;\r\n              &:hover\r\n                color: #f01414;\r\n    .empty-box\r\n      height: 284px;\r\n      border-bottom: 1px solid #D3D6D9;\r\n      text-align: center;\r\n      .iconfont\r\n        display: inline-block;\r\n        padding: 36px 0 8px 0;\r\n        font-size: 72px;\r\n        color: #D3D6D9;\r\n      & > p\r\n        font-size: 14px;\r\n        line-height: 1;\r\n        &.empty-title\r\n          color: #545C63;\r\n        &.empty-desc\r\n          margin-bottom: 8px\r\n          color: #9199A1;\r\n        &.empty-link\r\n          line-height: 24px;\r\n          color: rgba(240,20,20,0.6);\r\n          &:hover\r\n            color: #f01414;\r\n    .cart-bottom\r\n      padding: 16px 12px;\r\n      color: #93999f;\r\n      font-size: 12px;\r\n\r\n      .text\r\n        &:hover\r\n          color: #f01414;\r\n      .account-btn\r\n        float: right;\r\n        position:relative;\r\n        top: -25px;\r\n        padding: 8px 26px;\r\n        border-radius: 24px;\r\n        background-color: #f01414;\r\n        color: #fff;\r\n        line-height: 16px;\r\n        cursor: pointer;\r\n</style>"]}]}