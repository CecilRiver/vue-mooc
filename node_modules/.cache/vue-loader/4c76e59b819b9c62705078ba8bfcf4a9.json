{"remainingRequest":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\GitTest\\vue-mooc\\src\\pages\\cart\\confirm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\GitTest\\vue-mooc\\src\\pages\\cart\\confirm.vue","mtime":1698894932457},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\babel-loader\\lib\\index.js","mtime":1698895100317},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698895099045},{"path":"C:\\GitTest\\vue-mooc\\node_modules\\vue-loader\\lib\\index.js","mtime":1698895084158}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport CartHeader from './cart-header.vue'\r\nimport { getCheckLessons, removeCheckLessons } from 'utils/cache.js'\r\nimport { createOrder } from 'api/order.js'\r\nimport { ERR_OK } from 'api/config.js'\r\nexport default {\r\n  data () {\r\n    return {\r\n      cartList: []\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCartListData()\r\n  },\r\n  methods: {\r\n    // 提交订单\r\n    handleSubmitOrder () {\r\n      const params = {\r\n        list: this.cartList\r\n      }\r\n      createOrder(params).then(res => {\r\n        const { code, data, msg } = res\r\n        if (code === ERR_OK) {\r\n          removeCheckLessons()\r\n          this.$router.push(`/cart/pay/${data.code}`)\r\n        } else {\r\n          this.$message.error(msg)\r\n        }\r\n      }).catch(() => {\r\n        this.$message.error('接口异常')\r\n      })\r\n    },\r\n    // 获取购物车列表接口数据\r\n    getCartListData () {\r\n      const checkLessons = getCheckLessons()\r\n      if (checkLessons.length !== 0) {\r\n        this.cartList = checkLessons\r\n      } else {\r\n        this.$confirm('暂无数据，是否返回课程中心？', '提示', {\r\n          confirmButtonText: '返回',\r\n          cancelButtonText: '不返回'\r\n        }).then(() => {\r\n          this.$router.replace('/lesson')\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    // 获取总计金额\r\n    getTotal () {\r\n      let list = this.cartList.slice()\r\n      let reuslt = 0\r\n      list.forEach(item => {\r\n        reuslt  = reuslt + parseFloat(item.price)\r\n      })\r\n      return reuslt || 0\r\n    }\r\n  },\r\n  components: {\r\n    CartHeader\r\n  }\r\n}\r\n",{"version":3,"sources":["confirm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"confirm.vue","sourceRoot":"src/pages/cart","sourcesContent":["<template>\r\n  <div class=\"cart-confirm\">\r\n    <!-- 头部 -->\r\n    <cart-header>\r\n      <span class=\"cart-name\">确认订单</span>\r\n    </cart-header>\r\n\r\n    <!-- 列表部分 -->\r\n    <div class=\"confirm-list m-center\">\r\n      <dl>\r\n        <dt class=\"confirm-title\">\r\n          商品信息\r\n        </dt>\r\n        <dd v-for=\"(item,index) in cartList\" :key=\"index\" class=\"confirm-item\">\r\n          <div class=\"img-box\">\r\n            <img :src=\"item.img\" alt=\"\">\r\n          </div>\r\n          <div class=\"confirm-content\">\r\n            <p class=\"course-name\">\r\n              {{ item.title }}\r\n            </p>\r\n          </div>\r\n          <div class=\"confirm-price\">\r\n            ¥ {{ item.isDiscount ? item.discountPrice : item.price }}\r\n          </div>\r\n        </dd>\r\n      </dl>\r\n      <div class=\"confirm-bottom\">\r\n        <div class=\"left\">\r\n          <dl>\r\n            <dt>\r\n              <span class=\"total\">商品总金额：</span>\r\n              <span>¥ {{ getTotal }}</span>\r\n              <span class=\"real\">应付：</span>\r\n              <span class=\"real-price\">¥ {{ getTotal }}</span>\r\n            </dt>\r\n            <dd>支持花呗</dd>\r\n            <dd>可开发票</dd>\r\n            <dd>7天可退款</dd>\r\n          </dl>\r\n        </div>\r\n        <div class=\"right\" @click=\"handleSubmitOrder\">\r\n          提交订单\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport CartHeader from './cart-header.vue'\r\nimport { getCheckLessons, removeCheckLessons } from 'utils/cache.js'\r\nimport { createOrder } from 'api/order.js'\r\nimport { ERR_OK } from 'api/config.js'\r\nexport default {\r\n  data () {\r\n    return {\r\n      cartList: []\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCartListData()\r\n  },\r\n  methods: {\r\n    // 提交订单\r\n    handleSubmitOrder () {\r\n      const params = {\r\n        list: this.cartList\r\n      }\r\n      createOrder(params).then(res => {\r\n        const { code, data, msg } = res\r\n        if (code === ERR_OK) {\r\n          removeCheckLessons()\r\n          this.$router.push(`/cart/pay/${data.code}`)\r\n        } else {\r\n          this.$message.error(msg)\r\n        }\r\n      }).catch(() => {\r\n        this.$message.error('接口异常')\r\n      })\r\n    },\r\n    // 获取购物车列表接口数据\r\n    getCartListData () {\r\n      const checkLessons = getCheckLessons()\r\n      if (checkLessons.length !== 0) {\r\n        this.cartList = checkLessons\r\n      } else {\r\n        this.$confirm('暂无数据，是否返回课程中心？', '提示', {\r\n          confirmButtonText: '返回',\r\n          cancelButtonText: '不返回'\r\n        }).then(() => {\r\n          this.$router.replace('/lesson')\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    // 获取总计金额\r\n    getTotal () {\r\n      let list = this.cartList.slice()\r\n      let reuslt = 0\r\n      list.forEach(item => {\r\n        reuslt  = reuslt + parseFloat(item.price)\r\n      })\r\n      return reuslt || 0\r\n    }\r\n  },\r\n  components: {\r\n    CartHeader\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  .cart-confirm\r\n    margin-bottom: 60px;\r\n    .cart-name\r\n      margin-right: 25px;\r\n      font-size: 32px;\r\n      color: #07111b;\r\n    .confirm-list\r\n      margin-top: -40px;\r\n      padding: 36px 32px 0 32px;\r\n      background-color: #fff;\r\n      box-shadow: 0 8px 16px rgba(7,17,27,0.1);\r\n      border-radius: 8px;\r\n      box-sizing: border-box;\r\n      .confirm-title\r\n        padding-bottom: 24px;\r\n      .confirm-item\r\n        display: flex;\r\n        align-items: center;\r\n        margin-bottom: 1px;\r\n        padding: 24px;\r\n        background-color: #f3f5f7;\r\n        cursor: pointer;\r\n        .img-box\r\n          flex: 0 0 160px;\r\n          width: 160px;\r\n          height: 90px;\r\n          margin-right: 20px;\r\n          & > img\r\n            display: block;\r\n            width: 100%;\r\n            height: 100%;\r\n            background-color: #eee;\r\n        .confirm-content\r\n          flex: 1;\r\n          align-self: flex-start;\r\n          .course-name\r\n            margin-top: 4px;\r\n            line-height: 36px;\r\n        .confirm-price\r\n          flex: 0 0 280px;\r\n          width: 280px;\r\n          color: #f01414;\r\n      .confirm-bottom\r\n        overflow: hidden;\r\n        .left\r\n          float: left;\r\n          line-height: 120px;\r\n          font-size: 14px;\r\n          dt\r\n            display: inline-block;\r\n            vertical-align: middle;\r\n            margin-right: 80px;\r\n            & > span\r\n              display: inline-block;\r\n              vertical-align: middle;\r\n              &.real\r\n                margin-left: 50px;\r\n              &.real-price\r\n                font-size: 24px;\r\n                color: #f01414;\r\n                font-weight: 700;\r\n          dd\r\n            display: inline-block;\r\n            vertical-align: middle;\r\n            margin-right: 12px;\r\n            padding: 6px 12px;\r\n            border-radius: 12px;\r\n            border: 1px solid #f01414;\r\n            line-height: 1;\r\n            font-size: 12px;\r\n            color: #f01414;\r\n            &:last-child\r\n              margin-right: 0;\r\n        .right\r\n          float: right;\r\n          margin-top: 36px;\r\n          padding: 15px 40px;\r\n          background-color: #f01414;\r\n          border-radius: 24px;\r\n          color: #fff;\r\n          cursor: pointer;\r\n          &:hover\r\n            background-color: #c20a0a;\r\n</style>"]}]}